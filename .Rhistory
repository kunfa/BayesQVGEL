library(rolong)
library(rolong)
library(rolong)
library(MASS)
n=200;m=30;q=3;k=5;p=90
sigma2=1
sig = matrix(0,m,m)
for (i in 1:m)
{
for(j in 1:m)
{
sig[i,j] = 0.5^abs(i-j)
}
}
g = mvrnorm(n,rep(0,m),sig)
g = as.matrix(g)
g = scale(g)
beta_true = rep(0,m)
beta_true[c(2,4,7,12)] = runif(4,0.4,0.8)*rbinom(4,1,0.9)+runif(4,0.01,0.05)
#generate environment(n*q2)
dummy0 <- as.numeric(g[,1] <= -0.5)
dummy0=dummy0+1
dummy1 <- as.numeric(g[,1] > -0.5 & g[,1] <= 0)
dummy1=dummy1*2+1
dummy2 <- as.numeric(g[,1] > 0 & g[,1] <= 0.5)
dummy2=dummy2*3+1
e = cbind(dummy0,dummy1,dummy2)
e = scale(e)
e = cbind(rep(1,n),e)
alpha= runif(6,0.4,0.8)
w = c()
for (i in 1:m)
{
w = cbind(w,g[,i]*e[,-1])
}
eta_true = rep(0,p)
eta_true[4:6] = runif(3,0.4,0.8)*rbinom(3,1,0.75)+runif(3,0.01,0.05)
eta_true[10:12] = runif(3,0.4,0.8)
eta_true[16:18] = runif(3,0.4,0.8)*rbinom(3,1,0.75)+runif(3,0.01,0.05)
eta_true[19:21] = runif(3,0.4,0.8)
eta_true[34:36] = runif(3,0.4,0.8)
eta_true[43:45] = runif(3,0.4,0.8)*rbinom(3,1,0.75)+runif(3,0.01,0.05)
betas_true = c(beta_true,eta_true)
z = cbind(rep(1,k),c(1:k))
c = ncol(z)
ata=runif(c,0,1)
y = matrix(rep(0,n*k),n,k)
for(i in 1:n){
ei = t(replicate(k,e[i,]))
ei = cbind(ei,c(1:k),c(1:k)^2)
gi = t(replicate(k,g[i,]))
wi = t(replicate(k,w[i,]))
quant=0.5
error = rnorm(k,0,1)
error = error -quantile(error,probs = quant)
y[i,] = ei%*%alpha+gi%*%beta_true+wi%*%eta_true+z%*%ata+error
}
beta = rolong(y,e,g,w,z,k, iterations=10000, burn.in=NULL, slope=TRUE, robust=TRUE, sparse=TRUE, structure=c("group"))
beta$coefficient
devtools::document()
library(rolong)
rolong()
?rolong
library(rolong)
rolong()
devtools::document()
devtools::document()
library(rolong)
rolong()
library(rolong)
rolong()
library(rolong)
library(rolong)
rolong()
library(rolong)
?`rolong-package`
library(MASS)
n=60;m=5;q=3;k=3;p=15
sigma2=1
sig = matrix(0,m,m)
for (i in 1:m)
{
for(j in 1:m)
{
sig[i,j] = 0.5^abs(i-j)
}
}
g = mvrnorm(n,rep(0,m),sig)
g = as.matrix(g)
g = scale(g)
beta_true = rep(0,m)
beta_true[c(2,4)] = runif(2,0.4,0.8)*rbinom(2,1,0.9)+runif(2,0.01,0.05)
#generate environment(n*q2)
dummy0 <- as.numeric(g[,1] <= -0.5)
dummy0=dummy0+1
dummy1 <- as.numeric(g[,1] > -0.5 & g[,1] <= 0)
dummy1=dummy1*2+1
dummy2 <- as.numeric(g[,1] > 0 & g[,1] <= 0.5)
dummy2=dummy2*3+1
e = cbind(dummy0,dummy1,dummy2)
e = scale(e)
e = cbind(rep(1,n),e)
alpha= runif(6,0.4,0.8)
w = c()
for (i in 1:m)
{
w = cbind(w,g[,i]*e[,-1])
}
eta_true = rep(0,p)
eta_true[4:6] = runif(3,0.4,0.8)*rbinom(3,1,0.75)+runif(3,0.01,0.05)
eta_true[10:12] = runif(3,0.4,0.8)
betas_true = c(beta_true,eta_true)
z = cbind(rep(1,k),c(1:k))
c = ncol(z)
ata=runif(c,0,1)
y = matrix(rep(0,n*k),n,k)
for(i in 1:n){
ei = t(replicate(k,e[i,]))
ei = cbind(ei,c(1:k),c(1:k)^2)
gi = t(replicate(k,g[i,]))
wi = t(replicate(k,w[i,]))
quant=0.5
error = rnorm(k,0,1)
error = error -quantile(error,probs = quant)
y[i,] = ei%*%alpha+gi%*%beta_true+wi%*%eta_true+z%*%ata+error
}
beta = rolong(y,e,g,w,z,k, iterations=10000, burn.in=NULL, slope=TRUE, robust=TRUE, sparse=TRUE, structure=c("group"))
library(rolong)
library(rolong)
?`rolong-package`
devtools::document()
?`rolong-package`
library(MASS)
n=60;m=5;q=3;k=3;p=15
sigma2=1
sig = matrix(0,m,m)
for (i in 1:m)
{
for(j in 1:m)
{
sig[i,j] = 0.5^abs(i-j)
}
}
g = mvrnorm(n,rep(0,m),sig)
g = as.matrix(g)
g = scale(g)
beta_true = rep(0,m)
beta_true[c(2,4)] = runif(2,0.4,0.8)*rbinom(2,1,0.9)+runif(2,0.01,0.05)
#generate environment(n*q2)
dummy0 <- as.numeric(g[,1] <= -0.5)
dummy0=dummy0+1
dummy1 <- as.numeric(g[,1] > -0.5 & g[,1] <= 0)
dummy1=dummy1*2+1
dummy2 <- as.numeric(g[,1] > 0 & g[,1] <= 0.5)
dummy2=dummy2*3+1
e = cbind(dummy0,dummy1,dummy2)
e = scale(e)
e = cbind(rep(1,n),e)
alpha= runif(6,0.4,0.8)
w = c()
for (i in 1:m)
{
w = cbind(w,g[,i]*e[,-1])
}
eta_true = rep(0,p)
eta_true[4:6] = runif(3,0.4,0.8)*rbinom(3,1,0.75)+runif(3,0.01,0.05)
eta_true[10:12] = runif(3,0.4,0.8)
betas_true = c(beta_true,eta_true)
z = cbind(rep(1,k),c(1:k))
c = ncol(z)
ata=runif(c,0,1)
y = matrix(rep(0,n*k),n,k)
for(i in 1:n){
ei = t(replicate(k,e[i,]))
ei = cbind(ei,c(1:k),c(1:k)^2)
gi = t(replicate(k,g[i,]))
wi = t(replicate(k,w[i,]))
quant=0.5
error = rnorm(k,0,1)
error = error -quantile(error,probs = quant)
y[i,] = ei%*%alpha+gi%*%beta_true+wi%*%eta_true+z%*%ata+error
}
save(y,e,g,w,z,k,file="data.rda")
library(rolong)
library(MASS)
n=60;m=5;q=3;k=3;p=15
sigma2=1
sig = matrix(0,m,m)
for (i in 1:m)
{
for(j in 1:m)
{
sig[i,j] = 0.5^abs(i-j)
}
}
g = mvrnorm(n,rep(0,m),sig)
g = as.matrix(g)
g = scale(g)
beta_true = rep(0,m)
beta_true[c(2,4)] = runif(2,0.4,0.8)*rbinom(2,1,0.9)+runif(2,0.01,0.05)
#generate environment(n*q2)
dummy0 <- as.numeric(g[,1] <= -0.5)
dummy0=dummy0+1
dummy1 <- as.numeric(g[,1] > -0.5 & g[,1] <= 0)
dummy1=dummy1*2+1
dummy2 <- as.numeric(g[,1] > 0 & g[,1] <= 0.5)
dummy2=dummy2*3+1
e = cbind(dummy0,dummy1,dummy2)
e = scale(e)
e = cbind(rep(1,n),e)
alpha= runif(6,0.4,0.8)
w = c()
for (i in 1:m)
{
w = cbind(w,g[,i]*e[,-1])
}
eta_true = rep(0,p)
eta_true[4:6] = runif(3,0.4,0.8)*rbinom(3,1,0.75)+runif(3,0.01,0.05)
eta_true[10:12] = runif(3,0.4,0.8)
betas_true = c(beta_true,eta_true)
z = cbind(rep(1,k),c(1:k))
c = ncol(z)
ata=runif(c,0,1)
y = matrix(rep(0,n*k),n,k)
for(i in 1:n){
ei = t(replicate(k,e[i,]))
ei = cbind(ei,c(1:k),c(1:k)^2)
gi = t(replicate(k,g[i,]))
wi = t(replicate(k,w[i,]))
quant=0.5
error = rnorm(k,0,1)
error = error -quantile(error,probs = quant)
y[i,] = ei%*%alpha+gi%*%beta_true+wi%*%eta_true+z%*%ata+error
}
beta = rolong(y,e,g,w,k, iterations=10000, burn.in=NULL, slope=TRUE, robust=TRUE, sparse=TRUE, structure=c("group"))
beta$coefficient
beta = rolong(y,e,g,w,k, iterations=10000, burn.in=NULL, slope=F, robust=TRUE, sparse=TRUE, structure=c("group"))
beta = rolong(y,e,g,w,k, iterations=10000, burn.in=NULL, slope=F, robust=F, sparse=F, structure=c("group"))
beta$coefficient
library(MASS)
n=60;m=5;q=3;k=3;p=15
sigma2=1
sig = matrix(0,m,m)
for (i in 1:m)
{
for(j in 1:m)
{
sig[i,j] = 0.5^abs(i-j)
}
}
g = mvrnorm(n,rep(0,m),sig)
g = as.matrix(g)
g = scale(g)
beta_true = rep(0,m)
beta_true[c(2,4)] = runif(2,0.4,0.8)*rbinom(2,1,0.9)+runif(2,0.01,0.05)
#generate environment(n*q2)
dummy0 <- as.numeric(g[,1] <= -0.5)
dummy0=dummy0+1
dummy1 <- as.numeric(g[,1] > -0.5 & g[,1] <= 0)
dummy1=dummy1*2+1
dummy2 <- as.numeric(g[,1] > 0 & g[,1] <= 0.5)
dummy2=dummy2*3+1
e = cbind(dummy0,dummy1,dummy2)
e = scale(e)
e = cbind(rep(1,n),e)
alpha= runif(6,0.4,0.8)
w = c()
for (i in 1:m)
{
w = cbind(w,g[,i]*e[,-1])
}
eta_true = rep(0,p)
eta_true[4:6] = runif(3,0.4,0.8)*rbinom(3,1,0.75)+runif(3,0.01,0.05)
eta_true[10:12] = runif(3,0.4,0.8)
betas_true = c(beta_true,eta_true)
z = cbind(rep(1,k),c(1:k))
c = ncol(z)
ata=runif(c,0,1)
y = matrix(rep(0,n*k),n,k)
for(i in 1:n){
ei = t(replicate(k,e[i,]))
ei = cbind(ei,c(1:k),c(1:k)^2)
gi = t(replicate(k,g[i,]))
wi = t(replicate(k,w[i,]))
quant=0.5
error = rnorm(k,0,1)
error = error -quantile(error,probs = quant)
y[i,] = ei%*%alpha+gi%*%beta_true+wi%*%eta_true+z%*%ata+error
}
save(y,e,g,w,k,file="data.rda")
load("data.rda")
ls()
library(rolong)
library(rolong)
library(MASS)
n=60;m=5;q=3;k=3;p=15
sigma2=1
sig = matrix(0,m,m)
for (i in 1:m)
{
for(j in 1:m)
{
sig[i,j] = 0.5^abs(i-j)
}
}
g = mvrnorm(n,rep(0,m),sig)
g = as.matrix(g)
g = scale(g)
beta_true = rep(0,m)
beta_true[c(2,4)] = runif(2,0.4,0.8)*rbinom(2,1,0.9)+runif(2,0.01,0.05)
#generate environment(n*q2)
dummy0 <- as.numeric(g[,1] <= -0.5)
dummy0=dummy0+1
dummy1 <- as.numeric(g[,1] > -0.5 & g[,1] <= 0)
dummy1=dummy1*2+1
dummy2 <- as.numeric(g[,1] > 0 & g[,1] <= 0.5)
dummy2=dummy2*3+1
e = cbind(dummy0,dummy1,dummy2)
e = scale(e)
e = cbind(rep(1,n),e)
alpha= runif(6,0.4,0.8)
w = c()
for (i in 1:m)
{
w = cbind(w,g[,i]*e[,-1])
}
eta_true = rep(0,p)
eta_true[4:6] = runif(3,0.4,0.8)*rbinom(3,1,0.75)+runif(3,0.01,0.05)
eta_true[10:12] = runif(3,0.4,0.8)
betas_true = c(beta_true,eta_true)
z = cbind(rep(1,k),c(1:k))
c = ncol(z)
ata=runif(c,0,1)
y = matrix(rep(0,n*k),n,k)
for(i in 1:n){
ei = t(replicate(k,e[i,]))
ei = cbind(ei,c(1:k),c(1:k)^2)
gi = t(replicate(k,g[i,]))
wi = t(replicate(k,w[i,]))
quant=0.5
error = rnorm(k,0,1)
error = error -quantile(error,probs = quant)
y[i,] = ei%*%alpha+gi%*%beta_true+wi%*%eta_true+z%*%ata+error
}
beta = rolong(y,e,g,w,k, iterations=10000, burn.in=NULL, slope=TRUE, robust=TRUE, quant=0.3, sparse=TRUE, structure=c("group"))
beta = rolong(y,e,g,w,k, iterations=10000, burn.in=NULL, slope=TRUE, robust=F, sparse=TRUE, structure=c("group"))
?rolong
?`rolong-package`
library(rolong)
?`rolong-package`
devtools::document()
library(rolong)
devtools::document()
